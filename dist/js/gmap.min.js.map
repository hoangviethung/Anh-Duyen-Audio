{"version":3,"sources":["gmap.js"],"names":["markers","getLocationInViewPort","map","locations","bounds","getBounds","markerInViewPort","j","length","marker2","google","maps","Marker","position","LatLng","lat","lng","contains","getPosition","push","initialize","document","querySelectorAll","marker","i","mapOptions","zoom","center","mapTypeId","MapTypeId","ROADMAP","Map","getElementById","name","address","phone","infowindow","InfoWindow","event","addListener","close","animation","Animation","BOUNCE","icon","setCenter","setContent","concat","getAnimation","setAnimation","open","listMapInViewPort","innerHTML","forEach","location","console","log","input","searchBox","places","SearchBox","setBounds","LatLngBounds","getPlaces","setMap","place","geometry","Size","Point","title","viewport","union","extend","fitBounds","addDomListener","window","myClick","id","trigger","$","animate","scrollTop","offset","top"],"mappings":"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","file":"gmap.min.js","sourcesContent":["var markers = [];\n\nfunction getLocationInViewPort(map, locations) {\n\tvar bounds = map.getBounds();\n\tvar markerInViewPort = [];\n\tfor (var j = 0; j < locations.length; j++) {\n\t\tvar marker2 = new google.maps.Marker({\n\t\t\tposition: new google.maps.LatLng(locations[j].lat, locations[j].lng),\n\t\t});\n\t\tif (bounds.contains(marker2.getPosition()) === true) {\n\t\t\tmarkerInViewPort.push(locations[j])\n\t\t}\n\t}\n\t// Array.prototype.forEach.call(markerInViewPort, function (location) {\n\t// \tconsole.log(location)\n\t// })\n\treturn markerInViewPort;\n}\n\nfunction initialize() {\n\tif (document.querySelectorAll(\"#map\").length > 0) {\n\t\tvar mapOptions = {\n\t\t\tzoom: 12,\n\t\t\tcenter: new google.maps.LatLng(10.763806, 106.691302),\n\t\t\tmapTypeId: google.maps.MapTypeId.ROADMAP,\n\t\t\t// styles: [{\n\t\t\t// \t\t\"featureType\": \"administrative\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\t\"visibility\": \"on\"\n\t\t\t// \t\t\t},\n\t\t\t// \t\t\t{\n\t\t\t// \t\t\t\t\"hue\": \"#ff0000\"\n\t\t\t// \t\t\t}\n\t\t\t// \t\t]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"administrative\",\n\t\t\t// \t\t\"elementType\": \"geometry\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"simplified\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"administrative\",\n\t\t\t// \t\t\"elementType\": \"labels.text\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"on\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"administrative\",\n\t\t\t// \t\t\"elementType\": \"labels.text.fill\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"color\": \"#444444\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"administrative.locality\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"on\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"administrative.neighborhood\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"on\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"landscape\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"color\": \"#f2f2f2\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"landscape.man_made\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"on\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"landscape.natural.terrain\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"on\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"poi\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"off\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"poi.attraction\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"on\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"poi.government\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"on\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"poi.school\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"off\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"road\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\t\"saturation\": -100\n\t\t\t// \t\t\t},\n\t\t\t// \t\t\t{\n\t\t\t// \t\t\t\t\"lightness\": 45\n\t\t\t// \t\t\t}\n\t\t\t// \t\t]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"road.highway\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"simplified\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"road.highway.controlled_access\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"on\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"road.arterial\",\n\t\t\t// \t\t\"elementType\": \"labels.icon\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"off\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"transit\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"simplified\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"transit.line\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"simplified\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"transit.station.bus\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"simplified\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"transit.station.rail\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\"visibility\": \"simplified\"\n\t\t\t// \t\t}]\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t\"featureType\": \"water\",\n\t\t\t// \t\t\"elementType\": \"all\",\n\t\t\t// \t\t\"stylers\": [{\n\t\t\t// \t\t\t\t\"color\": \"#f66a00\"\n\t\t\t// \t\t\t},\n\t\t\t// \t\t\t{\n\t\t\t// \t\t\t\t\"visibility\": \"on\"\n\t\t\t// \t\t\t}\n\t\t\t// \t\t]\n\t\t\t// \t}\n\t\t\t// ],\n\n\t\t}\n\t\tvar map = new google.maps.Map(document.getElementById(\"map\"), mapOptions);\n\t\tvar locations = [{\n\t\t\t\tlat: 10.763806,\n\t\t\t\tlng: 106.691302,\n\t\t\t\tname: 'HO CHI MINH',\n\t\t\t\t// icon: 'resources/images/icons/icon_map.png',\n\t\t\t\taddress: '166A Trần Hưng Đạo ,P.Nguyễn Cư Trinh, Quận 1 ,TP. HCM',\n\t\t\t\tphone: '(+028) 3606 8688',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlat: 10.776201,\n\t\t\t\tlng: 106.687059,\n\t\t\t\tname: 'Bảo Tàng Chứng Tích Chiến Tranh',\n\t\t\t\t// icon: 'resources/images/icons/icon_map.png',\n\t\t\t\taddress: '28 Võ Văn Tần, P.6, Quận 3, TP. Hồ Chí Minh, Việt Nam',\n\t\t\t\tphone: '+84 28 3930 5587',\n\t\t\t},\n\t\t];\n\n\t\tvar marker, i;\n\t\tvar infowindow = new google.maps.InfoWindow();\n\t\tgoogle.maps.event.addListener(map, 'click', function() {\n\t\t\tinfowindow.close();\n\t\t});\n\n\n\t\tfor (i = 0; i < locations.length; i++) {\n\t\t\tmarker = new google.maps.Marker({\n\t\t\t\tposition: new google.maps.LatLng(locations[i].lat, locations[i].lng),\n\t\t\t\tmap: map,\n\t\t\t\tanimation: google.maps.Animation.BOUNCE,\n\t\t\t\ticon: locations[i].icon,\n\t\t\t});\n\t\t\tgoogle.maps.event.addListener(marker, 'click', (function(marker, i) {\n\t\t\t\treturn function() {\n\t\t\t\t\tmap.setCenter(marker.getPosition());\n\t\t\t\t\tinfowindow.setContent(\n\t\t\t\t\t\t`<div class=\"maker-info\" style=\"width:100%\">\n\t\t\t\t\t\t\t<h4>${locations[i].name}</h4>\n\t\t\t\t\t\t\t<p><b>Địa chỉ:</b> ${locations[i].address}</p>\n\t\t\t\t\t\t\t<p><b>Điện thoại:</b>  ${locations[i].phone}</p>\n\t\t\t\t\t\t</div>`\n\t\t\t\t\t);\n\t\t\t\t\tmarker.addListener(\"click\", function() {\n\t\t\t\t\t\tif (marker.getAnimation() !== null) {\n\t\t\t\t\t\t\tmarker.setAnimation(null);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmarker.setAnimation(google.maps.Animation.BOUNCE);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tinfowindow.open(map, marker);\n\t\t\t\t}\n\t\t\t})(marker, i));\n\n\t\t\tmarkers.push(marker);\n\n\t\t\tgoogle.maps.event.addListener(map, \"center_changed\", function() {\n\t\t\t\t// getLocationInViewPort(map, locations);\n\t\t\t\tvar listMapInViewPort = getLocationInViewPort(map, locations);\n\t\t\t\tdocument.getElementById(\"map-list\").innerHTML =\"\"\n\t\t\t\tlistMapInViewPort.forEach(function (location) {\n\t\t\t\t\tdocument.getElementById(\"map-list\").innerHTML = `\n\t\t\t\t\t\t<div class=\"map-item\">\n\t\t\t\t\t\t\t<h4>${location.name}</h4>\n\t\t\t\t\t\t\t<p><b>Địa chỉ:</b> ${location.address}</p>\n\t\t\t\t\t\t\t<p><b>Điện thoại:</b>  ${location.phone}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`\n\t\t\t\t\tconsole.log(location.name)\n\t\t\t\t\tconsole.log(location.address)\n\t\t\t\t\tconsole.log(location.phone)\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\n\t\t// tìm kiếm googlemap\n\t\tvar input = document.getElementById('searchmap');\n\t\tvar searchBox = new google.maps.places.SearchBox(input);\n\n\t\t// Bias the SearchBox results towards current map's viewport.\n\t\tmap.addListener('bounds_changed', function() {\n\t\t\tsearchBox.setBounds(map.getBounds());\n\t\t});\n\n\n\t\t// Listen for the event fired when the user selects a prediction and retrieve\n\t\t// more details for that place.\n\t\tvar bounds = new google.maps.LatLngBounds();\n\t\tsearchBox.addListener('places_changed', function() {\n\t\t\tvar places = searchBox.getPlaces();\n\n\t\t\tif (places.length == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Clear out the old markers.\n\t\t\tmarkers.forEach(function(marker) {\n\t\t\t\tmarker.setMap(null);\n\t\t\t});\n\n\t\t\t// For each place, get the icon, name and location.\n\t\t\tplaces.forEach(function(place) {\n\t\t\t\tif (!place.geometry) {\n\t\t\t\t\tconsole.log(\"Returned place contains no geometry\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar icon = {\n\t\t\t\t\turl: place.icon,\n\t\t\t\t\tsize: new google.maps.Size(71, 71),\n\t\t\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\t\t\tanchor: new google.maps.Point(17, 34),\n\t\t\t\t\tscaledSize: new google.maps.Size(25, 25)\n\t\t\t\t};\n\t\t\t\tconsole.log(place)\n\t\t\t\t// Create a marker for each place.\n\t\t\t\tmarkers.push(new google.maps.Marker({\n\t\t\t\t\tmap: map,\n\t\t\t\t\t// icon: icon,\n\t\t\t\t\t// center: new google.maps.LatLng(10.763806, 106.691302),\n\t\t\t\t\ttitle: place.name,\n\t\t\t\t\tanimation: google.maps.Animation.BOUNCE,\n\t\t\t\t\tzoom: 12,\n\t\t\t\t\tposition: place.geometry.location\n\t\t\t\t}));\n\n\t\t\t\tif (place.geometry.viewport) {\n\t\t\t\t\t// Only geocodes have viewport.\n\t\t\t\t\tbounds.union(place.geometry.viewport);\n\t\t\t\t} else {\n\t\t\t\t\tbounds.extend(place.geometry.location);\n\t\t\t\t}\n\t\t\t});\n\t\t\tmap.fitBounds(bounds);\n\t\t});\n\t\tgoogle.maps.event.addDomListener(window, 'load', initialize);\n\t}\n}\n\ngoogle.maps.event.addDomListener(window, 'load', initialize);\n\nfunction myClick(id) {\n\tgoogle.maps.event.trigger(markers[id], 'click');\n\t$(\"html,body\").animate({\n\t\tscrollTop: $(\"#map\").offset().top - 70\n\t}, 1200)\n}"]}