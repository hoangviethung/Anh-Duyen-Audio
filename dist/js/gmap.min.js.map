{"version":3,"sources":["gmap.js"],"names":["locations","markers","mapOptions","zoom","center","google","maps","LatLng","mapTypeId","MapTypeId","ROADMAP","styles","featureType","elementType","stylers","saturation","color","lightness","visibility","weight","gamma","listMarkerInViewPortHtml","getLocationInViewPort","map","bounds","getBounds","markerInViewPort","Array","prototype","forEach","call","marker","index","contains","getPosition","push","initialize","document","getElementById","inputLocations","Map","infowindow","InfoWindow","LatLngBounds","myoverlay","OverlayView","draw","this","getPanes","markerLayer","id","setMap","event","addListener","close","locationElement","Marker","position","lat","lng","animation","Animation","DROP","icon","extend","setCenter","setContent","concat","name","address","phone","open","innerHTML","console","log","length","fitBounds","listener","getZoom","setZoom","removeListener","myClick","trigger","$","animate","scrollTop","offset","top","addDomListener","window"],"mappings":"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","file":"gmap.min.js","sourcesContent":["var markers = [];\r\nvar mapOptions = {\r\n\tzoom: 12,\r\n\tcenter: new google.maps.LatLng(16.061979, 108.215886),\r\n\tmapTypeId: google.maps.MapTypeId.ROADMAP,\r\n\tstyles: [{\r\n\t\t\"featureType\": \"all\",\r\n\t\t\"elementType\": \"labels.text.fill\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"saturation\": 36\r\n\t\t}, {\r\n\t\t\t\"color\": \"#000000\"\r\n\t\t}, {\r\n\t\t\t\"lightness\": 40\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"all\",\r\n\t\t\"elementType\": \"labels.text.stroke\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"visibility\": \"on\"\r\n\t\t}, {\r\n\t\t\t\"color\": \"#000000\"\r\n\t\t}, {\r\n\t\t\t\"lightness\": 16\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"all\",\r\n\t\t\"elementType\": \"labels.icon\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"visibility\": \"off\"\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"administrative\",\r\n\t\t\"elementType\": \"geometry.fill\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"color\": \"#000000\"\r\n\t\t}, {\r\n\t\t\t\"lightness\": 20\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"administrative\",\r\n\t\t\"elementType\": \"geometry.stroke\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"color\": \"#000000\"\r\n\t\t}, {\r\n\t\t\t\"lightness\": 17\r\n\t\t}, {\r\n\t\t\t\"weight\": 1.2\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"landscape\",\r\n\t\t\"elementType\": \"geometry\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"color\": \"#000000\"\r\n\t\t}, {\r\n\t\t\t\"lightness\": 20\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"landscape\",\r\n\t\t\"elementType\": \"labels.text\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"saturation\": \"-6\"\r\n\t\t}, {\r\n\t\t\t\"lightness\": \"12\"\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"poi\",\r\n\t\t\"elementType\": \"geometry\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"color\": \"#000000\"\r\n\t\t}, {\r\n\t\t\t\"lightness\": 21\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"road\",\r\n\t\t\"elementType\": \"labels.text.fill\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"saturation\": \"1\"\r\n\t\t}, {\r\n\t\t\t\"lightness\": \"-1\"\r\n\t\t}, {\r\n\t\t\t\"visibility\": \"on\"\r\n\t\t}, {\r\n\t\t\t\"color\": \"#ffffff\"\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"road.highway\",\r\n\t\t\"elementType\": \"geometry\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"saturation\": \"9\"\r\n\t\t}, {\r\n\t\t\t\"gamma\": \"0.93\"\r\n\t\t}, {\r\n\t\t\t\"visibility\": \"simplified\"\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"road.highway\",\r\n\t\t\"elementType\": \"geometry.fill\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"lightness\": 17\r\n\t\t}, {\r\n\t\t\t\"visibility\": \"simplified\"\r\n\t\t}, {\r\n\t\t\t\"color\": \"#D82F25\"\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"road.highway\",\r\n\t\t\"elementType\": \"geometry.stroke\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"color\": \"#000000\"\r\n\t\t}, {\r\n\t\t\t\"lightness\": 29\r\n\t\t}, {\r\n\t\t\t\"weight\": 0.2\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"road.arterial\",\r\n\t\t\"elementType\": \"geometry\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"color\": \"#575757\"\r\n\t\t}, {\r\n\t\t\t\"lightness\": 1\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"road.local\",\r\n\t\t\"elementType\": \"geometry\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"color\": \"#000000\"\r\n\t\t}, {\r\n\t\t\t\"lightness\": 16\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"transit\",\r\n\t\t\"elementType\": \"geometry\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"color\": \"#000000\"\r\n\t\t}, {\r\n\t\t\t\"lightness\": 19\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"water\",\r\n\t\t\"elementType\": \"geometry\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"color\": \"#2B2B2B\"\r\n\t\t}, {\r\n\t\t\t\"lightness\": 0\r\n\t\t}]\r\n\t}, {\r\n\t\t\"featureType\": \"water\",\r\n\t\t\"elementType\": \"labels.text\",\r\n\t\t\"stylers\": [{\r\n\t\t\t\"color\": \"#ffffff\"\r\n\t\t}]\r\n\t}]\r\n}\r\nvar locations;\r\nvar listMarkerInViewPortHtml = \"\";\r\n\r\nfunction getLocationInViewPort(map, markers, locations) {\r\n\tvar bounds = map.getBounds();\r\n\tvar markerInViewPort = [];\r\n\r\n\tArray.prototype.forEach.call(markers, (marker, index) => {\r\n\t\tif (bounds.contains(marker.getPosition()) === true) {\r\n\t\t\tmarkerInViewPort.push(locations[index])\r\n\t\t}\r\n\t})\r\n\r\n\treturn markerInViewPort;\r\n}\r\n\r\nfunction initialize() {\r\n\tif (document.getElementById(\"map\")) {\r\n\t\tlocations = inputLocations;\r\n\t\tvar map = new google.maps.Map(document.getElementById(\"map\"), mapOptions);\r\n\t\tvar infowindow = new google.maps.InfoWindow();\r\n\t\tvar bounds = new google.maps.LatLngBounds();\r\n\t\tvar listMarkerInViewPort\r\n\t\tvar marker;\r\n\r\n\t\tvar myoverlay = new google.maps.OverlayView();\r\n\t\tmyoverlay.draw = function() {\r\n\t\t\tthis.getPanes().markerLayer.id = 'markerLayer';\r\n\t\t};\r\n\t\tmyoverlay.setMap(map);\r\n\r\n\t\tgoogle.maps.event.addListener(map, 'click', function() {\r\n\t\t\tinfowindow.close();\r\n\t\t});\r\n\r\n\t\tArray.prototype.forEach.call(locations, (locationElement, index) => {\r\n\t\t\tmarker = new google.maps.Marker({\r\n\t\t\t\tposition: new google.maps.LatLng(locationElement.lat, locationElement.lng),\r\n\t\t\t\tmap: map,\r\n\t\t\t\tanimation: google.maps.Animation.DROP,\r\n\t\t\t\ticon: locationElement.icon,\r\n\t\t\t});\r\n\r\n\t\t\tbounds.extend(marker.position);\r\n\r\n\t\t\tgoogle.maps.event.addListener(marker, \"click\", ((marker, locationElement) => {\r\n\t\t\t\treturn () => {\r\n\t\t\t\t\tmap.setCenter(marker.getPosition());\r\n\t\t\t\t\tinfowindow.setContent(\r\n\t\t\t\t\t\t`<div class=\"maker-info\" style=\"width:100%\">\r\n\t\t\t\t\t\t<h4>${locationElement.name}</h4>\r\n\t\t\t\t\t\t<p><b>Địa chỉ:</b> ${locationElement.address}</p>\r\n\t\t\t\t\t\t<p><b>Điện thoại:</b>  ${locationElement.phone}</p>\r\n\t\t\t\t\t</div>`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tinfowindow.open(map, marker);\r\n\t\t\t\t}\r\n\t\t\t})(marker, locationElement))\r\n\r\n\t\t\tlistMarkerInViewPortHtml += `\r\n\t\t\t\t<div class=\"map-item\" onclick=\"myClick(${index})\">\r\n\t\t\t\t\t<h4>${locationElement.name}</h4>\r\n\t\t\t\t\t<p><b>Địa chỉ:</b> ${locationElement.address}</p>\r\n\t\t\t\t\t<p><b>Điện thoại:</b>  ${locationElement.phone}</p>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\r\n\t\t\tif (document.getElementById(\"map-list\")) {\r\n\t\t\t\tdocument.getElementById(\"map-list\").innerHTML = listMarkerInViewPortHtml\r\n\t\t\t\tmarkers.push(marker);\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tif (document.getElementById(\"map-list\")) {\r\n\t\t\tgoogle.maps.event.addListener(map, \"idle\", function() {\r\n\r\n\t\t\t\tlistMarkerInViewPortHtml = \"\";\r\n\t\t\t\tlocations = getLocationInViewPort(map, markers, locations);\r\n\r\n\t\t\t\tconsole.log(locations);\r\n\t\t\t\tif (locations.length > 0) {\r\n\t\t\t\t\tArray.prototype.forEach.call(locations, (marker, index) => {\r\n\t\t\t\t\t\tconsole.log(marker);\r\n\t\t\t\t\t\tlistMarkerInViewPortHtml += `\r\n\t\t\t\t\t\t\t<div class=\"map-item\" onclick=\"myClick(${index})\">\r\n\t\t\t\t\t\t\t\t<h4>${marker.name}</h4>\r\n\t\t\t\t\t\t\t\t<p><b>Địa chỉ:</b> ${marker.address}</p>\r\n\t\t\t\t\t\t\t\t<p><b>Điện thoại:</b>  ${marker.phone}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t`;\r\n\t\t\t\t\t\tdocument.getElementById(\"map-list\").innerHTML = listMarkerInViewPortHtml\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlistMarkerInViewPortHtml = \"\";\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tmap.fitBounds(bounds);\r\n\r\n\t\tvar listener = google.maps.event.addListener(map, \"idle\", function() {\r\n\t\t\tif (map.getZoom() > 12) {\r\n\t\t\t\tmap.setZoom(12);\r\n\t\t\t}\r\n\t\t\tgoogle.maps.event.removeListener(listener);\r\n\t\t});\r\n\t}\r\n}\r\n\r\ngoogle.maps.event.addDomListener(window, 'load', initialize);\r\n\r\nfunction myClick(id) {\r\n\tgoogle.maps.event.trigger(markers[id], 'click');\r\n\t$(\"html,body\").animate({\r\n\t\tscrollTop: $(\"#map\").offset().top - 70\r\n\t}, 1200)\r\n}"]}