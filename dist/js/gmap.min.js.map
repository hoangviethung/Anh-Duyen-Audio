{"version":3,"sources":["gmap.js"],"names":["mapSelector","document","getElementById","dealerLocatorList","querySelector","map","itemClicked","markers","locations","inputLocations","mapOption","zoom","styles","featureType","elementType","stylers","saturation","color","lightness","visibility","weight","gamma","myoverlay","google","maps","OverlayView","infoWindow","InfoWindow","addMarkers","bounds","LatLngBounds","forEach","location","index","locationLatLng","LatLng","lat","lng","marker","Marker","title","name","position","icon","extend","push","showInfoMarkerOnMap","fitBounds","event","addListener","setContent","concat","address","phone","open","panTo","getPosition","setZoom","getLocationList","innerHTML","getBounds","contains","newMarker","createElement","classList","add","setAttribute","addEventListener","markerIndex","getAttribute","trigger","appendChild","initialize","Map","listener","getZoom","removeListener","draw","getPanes","markerLayer","id","setMap","close","addDomListener","window"],"mappings":"AAAA,aAAA,IAAMA,YAAcC,SAASC,eAAe,OACtCC,kBAAoBF,SAASG,cAAc,uBAEjD,GAAIJ,YAAa,CAChB,IAAIK,IAAKC,YAAaC,QAAU,GAC1BC,UAAYC,eACZC,UAAY,CACjBC,KAAM,GACNC,OAAQ,CAAC,CACRC,YAAe,MACfC,YAAe,mBACfC,QAAW,CAAC,CACXC,WAAc,IACZ,CACFC,MAAS,WACP,CACFC,UAAa,MAEZ,CACFL,YAAe,MACfC,YAAe,qBACfC,QAAW,CAAC,CACXI,WAAc,MACZ,CACFF,MAAS,WACP,CACFC,UAAa,MAEZ,CACFL,YAAe,MACfC,YAAe,cACfC,QAAW,CAAC,CACXI,WAAc,SAEb,CACFN,YAAe,iBACfC,YAAe,gBACfC,QAAW,CAAC,CACXE,MAAS,WACP,CACFC,UAAa,MAEZ,CACFL,YAAe,iBACfC,YAAe,kBACfC,QAAW,CAAC,CACXE,MAAS,WACP,CACFC,UAAa,IACX,CACFE,OAAU,OAET,CACFP,YAAe,YACfC,YAAe,WACfC,QAAW,CAAC,CACXE,MAAS,WACP,CACFC,UAAa,MAEZ,CACFL,YAAe,YACfC,YAAe,cACfC,QAAW,CAAC,CACXC,WAAc,MACZ,CACFE,UAAa,QAEZ,CACFL,YAAe,MACfC,YAAe,WACfC,QAAW,CAAC,CACXE,MAAS,WACP,CACFC,UAAa,MAEZ,CACFL,YAAe,OACfC,YAAe,mBACfC,QAAW,CAAC,CACXC,WAAc,KACZ,CACFE,UAAa,MACX,CACFC,WAAc,MACZ,CACFF,MAAS,aAER,CACFJ,YAAe,eACfC,YAAe,WACfC,QAAW,CAAC,CACXC,WAAc,KACZ,CACFK,MAAS,QACP,CACFF,WAAc,gBAEb,CACFN,YAAe,eACfC,YAAe,gBACfC,QAAW,CAAC,CACXG,UAAa,IACX,CACFC,WAAc,cACZ,CACFF,MAAS,aAER,CACFJ,YAAe,eACfC,YAAe,kBACfC,QAAW,CAAC,CACXE,MAAS,WACP,CACFC,UAAa,IACX,CACFE,OAAU,MAET,CACFP,YAAe,gBACfC,YAAe,WACfC,QAAW,CAAC,CACXE,MAAS,WACP,CACFC,UAAa,KAEZ,CACFL,YAAe,aACfC,YAAe,WACfC,QAAW,CAAC,CACXE,MAAS,WACP,CACFC,UAAa,MAEZ,CACFL,YAAe,UACfC,YAAe,WACfC,QAAW,CAAC,CACXE,MAAS,WACP,CACFC,UAAa,MAEZ,CACFL,YAAe,QACfC,YAAe,WACfC,QAAW,CAAC,CACXE,MAAS,WACP,CACFC,UAAa,KAEZ,CACFL,YAAe,QACfC,YAAe,cACfC,QAAW,CAAC,CACXE,MAAS,eAINK,UAAY,IAAIC,OAAOC,KAAKC,YAC5BC,WAAa,IAAIH,OAAOC,KAAKG,WAE7BC,WAAa,WAClB,IAAMC,OAAS,IAAIN,OAAOC,KAAKM,aAC/BtB,UAAUuB,QAAQ,SAACC,SAAUC,OAC5B,IAAIC,eAAiB,IAAIX,OAAOC,KAAKW,OAAOH,SAASI,IAAKJ,SAASK,KAC/DC,OAAS,IAAIf,OAAOC,KAAKe,OAAO,CACnClC,IAAKA,IACLmC,MAAOR,SAASS,KAChBC,SAAUR,eACVS,KAAM,qBAEPd,OAAOe,OAAON,OAAOI,UACrBnC,QAAQsC,KAAKP,QACbQ,oBAAoBR,OAAQL,SAG7B5B,IAAI0C,UAAUlB,SAGTiB,oBAAsB,SAACR,OAAQL,OACpCV,OAAOC,KAAKwB,MAAMC,YAAYX,OAAQ,QAAS,WAC9CZ,WAAWwB,WAAX,iBAAAC,OACO3C,UAAUyB,OAAOQ,KADxB,sBAAAU,OAEM3C,UAAUyB,OAAOmB,QAFvB,qBAAAD,OAGM3C,UAAUyB,OAAOoB,MAHvB,iBAKA/C,YAAc2B,MACdP,WAAW4B,KAAKjD,IAAKiC,QACrBjC,IAAIkD,MAAMjB,OAAOkB,eACjBnD,IAAIoD,QAAQ,OAIRC,gBAAkB,WACnBvD,oBACHA,kBAAkBwD,UAAY,GAC9BpD,QAAQwB,QAAQ,SAACO,OAAQL,OACxB,GAAI5B,IAAIuD,YAAYC,SAASvB,OAAOkB,eAAgB,CACnD,IAAMM,UAAY7D,SAAS8D,cAAc,OACzCD,UAAUE,UAAUC,IAAI,WAAY,cACpCH,UAAUH,UAAV,mBAAAR,OACM3C,UAAUyB,OAAOQ,KADvB,wCAAAU,OAEqB3C,UAAUyB,OAAOmB,QAFtC,0CAAAD,OAGwB3C,UAAUyB,OAAOoB,MAHzC,kBAKAS,UAAUI,aAAa,YAAvB,GAAAf,OAAuClB,QACvC6B,UAAUK,iBAAiB,QAAS,WACnC7D,YAAc2B,MACd,IAAMmC,YAAcN,UAAUO,aAAa,aAC3C9C,OAAOC,KAAKwB,MAAMsB,QAAQ/D,QAAQ6D,aAAc,WAEjDjE,kBAAkBoE,YAAYT,gBAM5BU,WAAa,WAClBnE,IAAM,IAAIkB,OAAOC,KAAKiD,IAAIzE,YAAaU,WACvCkB,aACA,IAAI8C,SAAWnD,OAAOC,KAAKwB,MAAMC,YAAY5C,IAAK,OAAQ,WACrDA,IAAIsE,UAAY,IACnBtE,IAAIoD,QAAQ,IAEblC,OAAOC,KAAKwB,MAAM4B,eAAeF,YAElCpD,UAAUuD,KAAO,WAChBvD,UAAUwD,WAAWC,YAAYC,GAAK,eAEvC1D,UAAU2D,OAAO5E,KACbqB,YACHH,OAAOC,KAAKwB,MAAMC,YAAY5C,IAAK,QAAS,WAC3CqB,WAAWwD,UAGb3D,OAAOC,KAAKwB,MAAMC,YAAY5C,IAAK,iBAAkBqD,kBAGtDnC,OAAOC,KAAKwB,MAAMmC,eAAeC,OAAQ,OAAQZ","file":"gmap.min.js","sourcesContent":["const mapSelector = document.getElementById('map');\r\nconst dealerLocatorList = document.querySelector('.map-list #map-list');\r\n\r\nif (mapSelector) {\r\n\tlet map, itemClicked, markers = [];\r\n\tconst locations = inputLocations;\r\n\tconst mapOption = {\r\n\t\tzoom: 12,\r\n\t\tstyles: [{\r\n\t\t\t\"featureType\": \"all\",\r\n\t\t\t\"elementType\": \"labels.text.fill\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"saturation\": 36\r\n\t\t\t}, {\r\n\t\t\t\t\"color\": \"#000000\"\r\n\t\t\t}, {\r\n\t\t\t\t\"lightness\": 40\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"all\",\r\n\t\t\t\"elementType\": \"labels.text.stroke\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}, {\r\n\t\t\t\t\"color\": \"#000000\"\r\n\t\t\t}, {\r\n\t\t\t\t\"lightness\": 16\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"all\",\r\n\t\t\t\"elementType\": \"labels.icon\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"off\"\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"administrative\",\r\n\t\t\t\"elementType\": \"geometry.fill\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"color\": \"#000000\"\r\n\t\t\t}, {\r\n\t\t\t\t\"lightness\": 20\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"administrative\",\r\n\t\t\t\"elementType\": \"geometry.stroke\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"color\": \"#000000\"\r\n\t\t\t}, {\r\n\t\t\t\t\"lightness\": 17\r\n\t\t\t}, {\r\n\t\t\t\t\"weight\": 1.2\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"landscape\",\r\n\t\t\t\"elementType\": \"geometry\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"color\": \"#000000\"\r\n\t\t\t}, {\r\n\t\t\t\t\"lightness\": 20\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"landscape\",\r\n\t\t\t\"elementType\": \"labels.text\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"saturation\": \"-6\"\r\n\t\t\t}, {\r\n\t\t\t\t\"lightness\": \"12\"\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"poi\",\r\n\t\t\t\"elementType\": \"geometry\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"color\": \"#000000\"\r\n\t\t\t}, {\r\n\t\t\t\t\"lightness\": 21\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"road\",\r\n\t\t\t\"elementType\": \"labels.text.fill\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"saturation\": \"1\"\r\n\t\t\t}, {\r\n\t\t\t\t\"lightness\": \"-1\"\r\n\t\t\t}, {\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}, {\r\n\t\t\t\t\"color\": \"#ffffff\"\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"road.highway\",\r\n\t\t\t\"elementType\": \"geometry\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"saturation\": \"9\"\r\n\t\t\t}, {\r\n\t\t\t\t\"gamma\": \"0.93\"\r\n\t\t\t}, {\r\n\t\t\t\t\"visibility\": \"simplified\"\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"road.highway\",\r\n\t\t\t\"elementType\": \"geometry.fill\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"lightness\": 17\r\n\t\t\t}, {\r\n\t\t\t\t\"visibility\": \"simplified\"\r\n\t\t\t}, {\r\n\t\t\t\t\"color\": \"#D82F25\"\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"road.highway\",\r\n\t\t\t\"elementType\": \"geometry.stroke\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"color\": \"#000000\"\r\n\t\t\t}, {\r\n\t\t\t\t\"lightness\": 29\r\n\t\t\t}, {\r\n\t\t\t\t\"weight\": 0.2\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"road.arterial\",\r\n\t\t\t\"elementType\": \"geometry\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"color\": \"#575757\"\r\n\t\t\t}, {\r\n\t\t\t\t\"lightness\": 1\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"road.local\",\r\n\t\t\t\"elementType\": \"geometry\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"color\": \"#000000\"\r\n\t\t\t}, {\r\n\t\t\t\t\"lightness\": 16\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"transit\",\r\n\t\t\t\"elementType\": \"geometry\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"color\": \"#000000\"\r\n\t\t\t}, {\r\n\t\t\t\t\"lightness\": 19\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"water\",\r\n\t\t\t\"elementType\": \"geometry\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"color\": \"#2B2B2B\"\r\n\t\t\t}, {\r\n\t\t\t\t\"lightness\": 0\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\t\"featureType\": \"water\",\r\n\t\t\t\"elementType\": \"labels.text\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"color\": \"#ffffff\"\r\n\t\t\t}]\r\n\t\t}]\r\n\t};\r\n\tconst myoverlay = new google.maps.OverlayView();\r\n\tconst infoWindow = new google.maps.InfoWindow();\r\n\r\n\tconst addMarkers = () => {\r\n\t\tconst bounds = new google.maps.LatLngBounds();\r\n\t\tlocations.forEach((location, index) => {\r\n\t\t\tlet locationLatLng = new google.maps.LatLng(location.lat, location.lng);\r\n\t\t\tlet marker = new google.maps.Marker({\r\n\t\t\t\tmap: map,\r\n\t\t\t\ttitle: location.name,\r\n\t\t\t\tposition: locationLatLng,\r\n\t\t\t\ticon: './img/circle.png',\r\n\t\t\t});\r\n\t\t\tbounds.extend(marker.position);\r\n\t\t\tmarkers.push(marker);\r\n\t\t\tshowInfoMarkerOnMap(marker, index);\r\n\t\t});\r\n\r\n\t\tmap.fitBounds(bounds);\r\n\t};\r\n\r\n\tconst showInfoMarkerOnMap = (marker, index) => {\r\n\t\tgoogle.maps.event.addListener(marker, 'click', function() {\r\n\t\t\tinfoWindow.setContent(`\r\n\t\t\t\t<h3>${locations[index].name}</h3>\r\n\t\t\t\t<p>${locations[index].address}</p>\r\n\t\t\t\t<p>${locations[index].phone}</p>\r\n\t\t\t`);\r\n\t\t\titemClicked = index;\r\n\t\t\tinfoWindow.open(map, marker);\r\n\t\t\tmap.panTo(marker.getPosition());\r\n\t\t\tmap.setZoom(12);\r\n\t\t})\r\n\t};\r\n\r\n\tconst getLocationList = () => {\r\n\t\tif (dealerLocatorList) {\r\n\t\t\tdealerLocatorList.innerHTML = '';\r\n\t\t\tmarkers.forEach((marker, index) => {\r\n\t\t\t\tif (map.getBounds().contains(marker.getPosition())) {\r\n\t\t\t\t\tconst newMarker = document.createElement('div');\r\n\t\t\t\t\tnewMarker.classList.add('map-item', 'maker-info');\r\n\t\t\t\t\tnewMarker.innerHTML = `\r\n\t\t\t\t\t<h4>${locations[index].name}</h4>\r\n\t\t\t\t\t<p><b>Địa chỉ:</b> ${locations[index].address}</p>\r\n\t\t\t\t\t<p><b>Điện thoại:</b> ${locations[index].phone}</p>\r\n\t\t\t\t`;\r\n\t\t\t\t\tnewMarker.setAttribute('marker-id', `${index}`);\r\n\t\t\t\t\tnewMarker.addEventListener('click', () => {\r\n\t\t\t\t\t\titemClicked = index;\r\n\t\t\t\t\t\tconst markerIndex = newMarker.getAttribute('marker-id');\r\n\t\t\t\t\t\tgoogle.maps.event.trigger(markers[markerIndex], 'click');\r\n\t\t\t\t\t});\r\n\t\t\t\t\tdealerLocatorList.appendChild(newMarker);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst initialize = () => {\r\n\t\tmap = new google.maps.Map(mapSelector, mapOption);\r\n\t\taddMarkers();\r\n\t\tlet listener = google.maps.event.addListener(map, 'idle', () => {\r\n\t\t\tif (map.getZoom() > 12) {\r\n\t\t\t\tmap.setZoom(12);\r\n\t\t\t}\r\n\t\t\tgoogle.maps.event.removeListener(listener);\r\n\t\t});\r\n\t\tmyoverlay.draw = function() {\r\n\t\t\tmyoverlay.getPanes().markerLayer.id = 'markerLayer';\r\n\t\t};\r\n\t\tmyoverlay.setMap(map);\r\n\t\tif (infoWindow) {\r\n\t\t\tgoogle.maps.event.addListener(map, 'click', function() {\r\n\t\t\t\tinfoWindow.close();\r\n\t\t\t});\r\n\t\t}\r\n\t\tgoogle.maps.event.addListener(map, 'bounds_changed', getLocationList);\r\n\t};\r\n\r\n\tgoogle.maps.event.addDomListener(window, 'load', initialize);\r\n}"]}